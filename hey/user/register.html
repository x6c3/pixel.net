<!DOCTYPE html>
<html>
<head>
  <title>pixel.in</title>
  <link rel="stylesheet" href="../styles/register.css">
</head>
<body>
  <div class="wrapper">
    <span class="icon-close"><i class="fa-solid fa-xmark"></i></span>

    <div class="form-box register">
      <h2>Registration</h2>
      <form action="register.php" method="post" onsubmit="return validateForm()">
        <div class="input-box">
          <span class="icon"><i class="fa-solid fa-user"></i></span>
          <input type="text" required class="form-control" id="username" name="username">
          <label><b>Username</b></label>
          <span class="error" id="usernameError"></span> <!-- Error message for username -->
        </div>
        <div class="input-box">
          <span class="icon"><i class="fa-solid fa-envelope"></i></span>
          <input type="email" required class="form-control" id="email" name="email">
          <label><b>Email</b></label>
        </div>
        <div class="input-box">
          <span class="icon"><i class="fa-solid fa-lock"></i></span>
          <input type="password" required class="form-control" id="password" name="password">
          <label><b>Password</b></label>
        </div>
        <div>
          <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
          <label class="form-check-label" for="invalidCheck">
            I Agree to terms and conditions
          </label>
        </div>
        <button type="submit" class="btn">Register</button>
        <div class="login-register">
          <p>Already have an account<a href="login.html" class="login-link">Login</a></p>
        </div>
      </form>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <script>
    function validateForm() {
      const usernameInput = document.getElementById("username");
      const usernameError = document.getElementById("usernameError");
      const username = usernameInput.value.trim();
      const usernamePattern = /^[a-zA-Z][a-zA-Z0-9]*$/;

      if (!usernamePattern.test(username)) {
        const errorMessage = "Invalid username. Username must start with a letter.";
        window.location.href = `registration_result.php?error=${encodeURIComponent(errorMessage)}`;
        return false; // Prevent form submission
      } else {
        usernameError.textContent = "";
        return true; // Allow form submission
      }
    }
  </script>
</body>
</html>
